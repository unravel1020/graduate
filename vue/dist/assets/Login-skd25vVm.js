/* empty css             *//* empty css                  *//* empty css               *//* empty css              *//* empty css              */import{a as E}from"./index-t--hEgTQ.js";import{ac as i,b as u,a3 as f,q as I,x as g,y as o,z as r,U as R,p as z,v as q,V as B,W as F,a8 as N,a9 as U,B as p,K as k,ad as C}from"./index-Bj9Ji7-s.js";const m=E.create({baseURL:"http://localhost:8080",timeout:3e4});m.interceptors.request.use(e=>(e.headers["Content-Type"]="application/json;charset=utf-8",e),e=>Promise.reject(e));m.interceptors.response.use(e=>{let l=e.data;return typeof l=="string"&&(l=l&&JSON.parse(l)),l},e=>(e.response.status===404?i.error("未找到请求接口"):e.response.status===500?i.error("系统异常，请查看后台控制台报错"):console.error(e.message),Promise.reject(e)));const S={class:"login-container"},j={class:"login-box"},J={class:"login-form"},W={__name:"Login",setup(e){const l=u("default"),x=u(null),s=f({studentId:"",password:"",identify:""}),y=f({name:[{required:!0,message:"请输入账号",trigger:"blur"},{min:11,max:11,message:"账号格式不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}),w=()=>{console.log(),m.post("/login",s).then(n=>{console.log("发送的登录数据:",s),n.code==="200"?(localStorage.setItem("code_user",JSON.stringify(n.data||{})),i.success("登录成功"),C.push("/home")):i.error(n.msg)})};return u(""),(n,t)=>{const _=F,d=B,c=U,V=N,b=k,v=R,h=z("RouterView");return q(),I("div",S,[g("div",j,[g("div",J,[o(v,{model:s,rules:y,size:l.value,"status-icon":"",ref_key:"ruleFormRef",ref:x,"label-width":"auto",style:{"max-width":"600px"}},{default:r(()=>[o(d,{label:"账号",prop:"studentId"},{default:r(()=>[o(_,{modelValue:s.studentId,"onUpdate:modelValue":t[0]||(t[0]=a=>s.studentId=a),style:{width:"450px"},clearable:""},null,8,["modelValue"])]),_:1}),o(d,{label:"密码",prop:"password"},{default:r(()=>[o(_,{modelValue:s.password,"onUpdate:modelValue":t[1]||(t[1]=a=>s.password=a),style:{width:"450px"},"show-password":""},null,8,["modelValue"])]),_:1}),o(d,{style:{"padding-left":"100px"}},{default:r(()=>[o(V,{modelValue:s.identify,"onUpdate:modelValue":t[2]||(t[2]=a=>s.identify=a)},{default:r(()=>[o(c,{value:"1",size:"large",border:""},{default:r(()=>t[3]||(t[3]=[p("学 生")])),_:1}),o(c,{value:"2",size:"large",border:""},{default:r(()=>t[4]||(t[4]=[p("管理员")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(d,{style:{"padding-left":"170px"}},{default:r(()=>[o(b,{type:"primary",onClick:w,style:{width:"100px",height:"40px"}},{default:r(()=>t[5]||(t[5]=[p("登 录")])),_:1})]),_:1})]),_:1},8,["model","rules","size"])])]),o(h)])}}};export{W as default};
